@(movieForm: Form[forms.MovieForm], seriesList: List[String])(mode: String)

@import helper._
@import helper.twitterBootstrap._


  <script type="text/javascript" charset="utf-8">
    var avaibleGenres = @Html(models.MovieAttribute.getAvaibleAttributesAsJson(EMovieAttributeType.GENRE));
    var avaibleActors = @Html(models.MovieAttribute.getAvaibleAttributesAsJson(EMovieAttributeType.ACTOR));
  </script>
  
  <script src="@routes.Assets.at("javascripts/movieForm.js")" type="text/javascript"></script>
  
     @form(routes.MovieController.addOrEditMovie(mode),'enctype -> "multipart/form-data",'class -> "well",'id -> "movieForm", 'mode -> mode) {
     <fieldset>
    <legend>@if(mode == DvdController.DVD_FORM_EDIT_MODE) {Edit Move} else {Add a Movie}</legend>
     
         @if(mode == DvdController.DVD_FORM_EDIT_MODE) {
           <input type="hidden" name="movieId" id="movieId" value="@movieForm("movieId").value()"/>
         }
         
         <div class="form-actions">
           @if(mode == DvdController.DVD_FORM_EDIT_MODE) {
             <button type="button" class="btn btn-primary movieFormSubmitBtn"><i class="icon-edit"></i>Edit Movie</button>
           } else {
             <button type="button" class="btn  btn-primary movieFormSubmitBtn"><i class="icon-plus"></i>Add Movie</button>
           }
           <button type="button" class="btn movieFormCloseBtn" ><i class="icon-chevron-up"></i>Close</button>
         </div>
         
         
         @inputText(movieForm("title"),'_label -> "Title", '_showConstraints -> true, 'placeholder -> "Enter Dvd title", 'class -> "span10")
         <button class="btn btn-info" id="grabberButton" type="button"><i class="icon-film"></i> Look up with Onlinegrabber</button>
         <hr />
         
         
         @textarea(movieForm("plot"),'_label -> "Plot",'class -> "span10", 'rows -> "10")
         
         @inputText(movieForm("year"),'_label -> "Year", '_showConstraints -> true, 'class-> "span1")
         
         @inputText(movieForm("runtime"),'_label -> "Runtime in Min:")
         
         @select(field = movieForm("series"), options(seriesList),'_label->"Series",'class-> "span5 chosen_select")
         
         
         <hr />
         <label for="genres">Genres</label>   
         <input type="hidden" name="genres" id="genres" value="@forms.MovieForm.getDvdFormAttributesAsString(movieForm("genres").value())"/>
         
        
         <hr  />
         @inputText(movieForm("director"),'_label -> "Director")
         
         <label for="actors">Actors</label>
         <input type="hidden" name="actors" id="actors" value="@forms.MovieForm.getDvdFormAttributesAsString(movieForm("actors").value())"/>
         
         <hr />
         
         @inputText(movieForm("trailerUrl"),'_label -> "Trailer url",'placeholder -> "Url to trailer")
         
         <label for="poster">Poster</label>
         @inputText(movieForm("posterUrl"),'_label -> "Poster url",'placeholder -> "Url to a poster image")
         <img id="poster_preview" class="caption" title="Currently selected poster" src="@if(mode == DvdController.DVD_FORM_ADD_MODE) {http://placehold.it/92x138/4D99E0/ffffff.png&text=No%20Poster} else { @routes.Dashboard.streamImage(Long.valueOf(movieForm("movieId").value()),"POSTER","SMALL") }" width="92" height="138" />  
         
          
         <label for="backDrop">Backdrop</label>
         @inputText(movieForm("backDropUrl"),'_label -> "Back Drop url",'placeholder -> "Url to a back drop image")
         <img  class="caption" id="backDrop_preview" title="Currently selected backdrop" src="@if(mode == DvdController.DVD_FORM_ADD_MODE) {http://placehold.it/291x136/4D99E0/ffffff.png&text=No%20Backdrop} else { @routes.Dashboard.streamImage(Long.valueOf(movieForm("movieId").value()),"BACKDROP","SMALL") }" width="291" height="163" />
         
         <div class="form-actions">
           @if(mode == DvdController.DVD_FORM_EDIT_MODE) {
             <button type="button" class="btn btn-primary movieFormSubmitBtn"><i class="icon-edit"></i>Edit Movie</button>
           } else {
             <button type="button" class="btn  btn-primary movieFormSubmitBtn"><i class="icon-plus"></i>Add Movie</button>
           }
           <button type="button" class="btn movieFormCloseBtn" ><i class="icon-chevron-up"></i>Close</button>
         </div>
         
       
     </fieldset>    
     }
     
  
  

  <!-- GRABBER DIALOG -->
  <div id="grabberDialog" title="Movie info from Grabber">
    <div class="dialogContent">
      
    </div>
  </div>
