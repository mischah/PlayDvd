@(shoppingCart : objects.shoppingcart.CacheShoppingCart)

@scripts = {
  <script src="@routes.Assets.at("javascripts/movieForm.js")" type="text/javascript"></script>
}

@mainmenu("Dvd Database - Shoppingcart",scripts,Html("")) {
  <div class="row well">

    <fieldset>
      <legend><i class="icon-shopping-cart"></i> Shoppingcart</legend>

      @if(shoppingCart.getSize == 0) {
        <div class="alert alert-error">
          <strong>No Items in the shoppingcart.</strong>
        </div>
      } else {
        <dl>
          @for((username,items) <- shoppingCart.getItemsSortedByUser){

            <dt>Owner: @username</dt>
            @for(item <- items) {
              <dd>
                <div class="media">
                  <a class="pull-left" href="#">
                  @if(item.copyItem.movie.hasPoster) {
                    <img class="img-rounded" src="@routes.Dashboard.streamImage(item.copyItem.movie.id,"POSTER","SELECT2")"/>
                  }
                  </a>
                  <div class="media-body">
                    <h5 class="media-heading">@item.copyItem.movie.title</h5>
                    <span>Owner: @item.copyItem.owner.userName</span>


              @if(DvdAttribute.getCopyTypeAttribute(item.copyItem) != null) {
                <span><img class="img-rounded" alt="@DvdAttribute.getCopyTypeAttribute(item.copyItem)" src="@routes.Assets.at("images/copy_type/"+DvdAttribute.getCopyTypeAttribute(item.copyItem)+".png")" /></span>
              }

              @if(DvdAttribute.getAgeRatingAttribute(item.copyItem) != null) {
                <span><img  class="img-rounded" alt="@DvdAttribute.getAgeRatingAttribute(item.copyItem)" src="@routes.Assets.at("images/agerating/"+DvdAttribute.getAgeRatingAttribute(item.copyItem)+".gif")" /></span>
              }


              </div>
              </div>
              </dd>
            }
          }
        </dl>

        <div class="form-actions">
          <button type="submit" class="btn btn-primary">Save changes</button>
          <button type="button" class="btn">Cancel</button>
        </div>
      }

    </fieldset>
  </div>
}

